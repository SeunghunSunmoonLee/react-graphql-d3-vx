(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(t,e,n){},142:function(t,e,n){},145:function(t,e,n){"use strict";n.r(e);var a=n(1),r=n.n(a),o=n(50),c=n.n(o),i=n(22),l=n(24),u=n(53),s=n(27),h=n(20),m=n(74),p=n(75),d=n.n(p),f={},b=Object(h.c)({record:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return(arguments.length>1?arguments[1]:void 0).type,t}}),g=d()(),v=[m.a,Object(l.routerMiddleware)(g)],y=h.d.apply(void 0,[h.a.apply(void 0,v)].concat([])),j=Object(h.e)(Object(l.connectRouter)(g)(b),{},y),E=n(39),O=n(40),w=n(44),k=n(41),x=n(45),P=n(150),M=n(151),S=n(152),A=n(76),q=(n(105),n(107),n(78)),C=n(26),D=n(8),R=n(54),z=n(56),J=function(t){var e=t.data,n=t.width,a=t.height,o=n,c=a-120,i=Object(z.a)({rangeRound:[0,o],domain:e.map(function(t){return t.month}),padding:.4}),l=Object(z.b)({rangeRound:[c,0],domain:[0,Math.max.apply(Math,Object(q.a)(e.map(function(t){return t.posts.length})))]});return r.a.createElement("svg",{width:n+100,height:a},r.a.createElement("rect",{width:n+100,height:a,fill:"url(#teal)",rx:14}),r.a.createElement(D.a,{left:100,top:50},e.map(function(t,e){var n=t.posts.length,a=i.bandwidth(),o=c-l(n),u=i(t.month),s=c-o;return r.a.createElement(C.a,{key:"bar-".concat(t.month),x:u,y:s,width:a,height:o,fill:"rgba(23, 233, 217, .5)",onClick:function(e){alert("clicked: ".concat(t.month," number of posts: ").concat(n))}})})),r.a.createElement(R.a,{scale:i,top:c+50,left:100,label:"Month",labelProps:{fontSize:24,fill:"rgba(23, 233, 217, .8)"},tickFormat:function(t,e){return"".concat(t)},tickProps:function(t,e){return{dx:"0.33em",fill:"rgba(23, 233, 217, .8)",fontSize:16,opacity:e%2===0?.5:.9}}}),r.a.createElement(R.b,{scale:l,top:50,left:100,label:"Posts",labelProps:{fontSize:24,fill:"rgba(23, 233, 217, .8)"},tickFormat:function(t,e){return"".concat(t)},tickProps:function(t,e){return{dx:"0.33em",fill:"rgba(23, 233, 217, .8)",fontSize:16,opacity:e%2===0?.5:.9}}}))};function B(){var t=Object(A.a)(["{\n  allPosts(count: 100) {\n\t  id,\n    createdAt\n\t}\n}"]);return B=function(){return t},t}var F=Object(s.b)(B()),I=new s.a({uri:"https://fakerql.com/graphql"}),H={Jan:1,Feb:2,Mar:3,Apr:4,May:5,Jun:6,Jul:7,Aug:8,Sep:9,Oct:10,Nov:11,Dec:12},L=function(t){function e(t){var n;return Object(E.a)(this,e),(n=Object(w.a)(this,Object(k.a)(e).call(this,t))).state={},n}return Object(x.a)(e,t),Object(O.a)(e,[{key:"componentDidMount",value:function(){var t=this,e={};I.query({query:F}).then(function(n){n.data.allPosts.forEach(function(t){var n=t.createdAt.split(" ")[1];"2018"===t.createdAt.split(" ")[3]&&(e[n]?e[n].push(t):e[n]=[t])});var a=Object.keys(e).map(function(t){return{month:t,posts:e[t]}}).sort(function(t,e){return H[t.month]-H[e.month]});t.setState({postsByMonthSorted:a})})}},{key:"render",value:function(){return this.state.postsByMonthSorted?r.a.createElement(a.Fragment,null,r.a.createElement("div",{style:{width:"100%",minHeight:"100vh",display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"}},r.a.createElement("h1",null,"React GraphQL D3. Number of Posts per month"),r.a.createElement(J,{data:this.state.postsByMonthSorted,width:1e3,height:600}))):r.a.createElement("div",{style:{width:"100%",minHeight:"100vh",display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"}},r.a.createElement("div",{style:{fontSize:"40px",fontWeight:"bold"}},"Loading"))}}]),e}(r.a.Component),N=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"About Page"),r.a.createElement("p",null,"Did you get here via Redux?"))},G=function(t){function e(){return Object(E.a)(this,e),Object(w.a)(this,Object(k.a)(e).apply(this,arguments))}return Object(x.a)(e,t),Object(O.a)(e,[{key:"render",value:function(){return r.a.createElement(P.a,null,r.a.createElement(M.a,{exact:!0,path:"/",component:L}),r.a.createElement(M.a,{exact:!0,path:"/about-us",component:N}))}}]),e}(r.a.Component),Q=Object(S.a)(Object(i.connect)(null,null)(G));n(140),n(142);n.d(e,"client",function(){return W});var W=new s.a({uri:"https://fakerql.com/graphql"});c.a.render(r.a.createElement(u.ApolloProvider,{client:W},r.a.createElement(i.Provider,{store:j},r.a.createElement(l.ConnectedRouter,{history:g},r.a.createElement(Q,null)))),document.getElementById("root"))},80:function(t,e,n){t.exports=n(145)}},[[80,2,1]]]);
//# sourceMappingURL=main.6e2eda92.chunk.js.map